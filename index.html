<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="load" style="position: fixed; top: 50%; width: 100%; text-align: center; transform: translate(0, -50%)">
        0%
    </div>
</body>
<script>
    (function () {
        var load = document.getElementById('load')
        var imgs = [
            'bg_1.jpg',
            'bg_2.jpg',
            'bg_3.jpg',
            'bg_4.jsp',
            'boom_big.png',
            'boom_small.png',
            'enemy_big.png',
            'enemy_small.png',
            'fire.png',
            'plane_0.png',
            'plane_1.png'
        ]
        var num = 0; //加载进度
        function loading() {
            num++
            load.innerHtml = num / imgs.length + '%'
            return num === imgs.length ? location.replace('game.html') : false
        }
        for (var i = 0; i < imgs.length; i++) {
            var img = new Image()
            img.src = './img/' + img[i]
            img.onload = loading
            img.onerror = loading
        }
    }())

</script>

</html>